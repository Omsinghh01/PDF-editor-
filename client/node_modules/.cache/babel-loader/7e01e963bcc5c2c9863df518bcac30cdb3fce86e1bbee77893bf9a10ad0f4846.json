{"ast":null,"code":"import axios from 'axios';\nconst API_BASE_URL = process.env.REACT_APP_API_URL || 'http://localhost:5000/api';\nclass API {\n  static async uploadPDF(file) {\n    const formData = new FormData();\n    formData.append('pdf', file);\n    return axios.post(`${API_BASE_URL}/upload`, formData, {\n      headers: {\n        'Content-Type': 'multipart/form-data'\n      }\n    });\n  }\n  static async getPDFInfo(fileId) {\n    return axios.get(`${API_BASE_URL}/pdf/${fileId}/info`);\n  }\n  static async addText(fileId, textData) {\n    return axios.post(`${API_BASE_URL}/pdf/${fileId}/add-text`, textData);\n  }\n  static async addImage(fileId, imageFile, position) {\n    const formData = new FormData();\n    formData.append('image', imageFile);\n    formData.append('x', position.x);\n    formData.append('y', position.y);\n    formData.append('pageIndex', position.pageIndex);\n    formData.append('width', position.width || 100);\n    formData.append('height', position.height || 100);\n    return axios.post(`${API_BASE_URL}/pdf/${fileId}/add-image`, formData, {\n      headers: {\n        'Content-Type': 'multipart/form-data'\n      }\n    });\n  }\n  static async addShape(fileId, shapeData) {\n    return axios.post(`${API_BASE_URL}/pdf/${fileId}/add-shape`, shapeData);\n  }\n  static async rotatePage(fileId, pageIndex, rotation) {\n    return axios.post(`${API_BASE_URL}/pdf/${fileId}/rotate`, {\n      pageIndex,\n      rotation\n    });\n  }\n  static async deletePages(fileId, pageIndices) {\n    return axios.post(`${API_BASE_URL}/pdf/${fileId}/delete-pages`, {\n      pageIndices\n    });\n  }\n  static async splitPDF(fileId, startPage, endPage) {\n    return axios.post(`${API_BASE_URL}/pdf/${fileId}/split`, {\n      startPage,\n      endPage\n    });\n  }\n  static async mergePDFs(files) {\n    const formData = new FormData();\n    files.forEach(file => {\n      formData.append('pdfs', file);\n    });\n    return axios.post(`${API_BASE_URL}/pdf/merge`, formData, {\n      headers: {\n        'Content-Type': 'multipart/form-data'\n      }\n    });\n  }\n  static async addWatermark(fileId, watermarkData) {\n    return axios.post(`${API_BASE_URL}/pdf/${fileId}/watermark`, watermarkData);\n  }\n  static async passwordProtect(fileId, password) {\n    return axios.post(`${API_BASE_URL}/pdf/${fileId}/password`, {\n      password\n    });\n  }\n  static async compressPDF(fileId) {\n    return axios.post(`${API_BASE_URL}/pdf/${fileId}/compress`);\n  }\n  static async downloadPDF(fileId, fileName) {\n    const response = await axios.get(`${API_BASE_URL}/pdf/${fileId}/download`, {\n      responseType: 'blob',\n      params: {\n        name: fileName\n      }\n    });\n\n    // Create download link\n    const url = window.URL.createObjectURL(new Blob([response.data]));\n    const link = document.createElement('a');\n    link.href = url;\n    link.setAttribute('download', fileName);\n    document.body.appendChild(link);\n    link.click();\n    link.remove();\n    window.URL.revokeObjectURL(url);\n  }\n  static async getPDFPreview(fileId) {\n    return axios.get(`${API_BASE_URL}/pdf/${fileId}/preview`);\n  }\n}\nexport default API;","map":{"version":3,"names":["axios","API_BASE_URL","process","env","REACT_APP_API_URL","API","uploadPDF","file","formData","FormData","append","post","headers","getPDFInfo","fileId","get","addText","textData","addImage","imageFile","position","x","y","pageIndex","width","height","addShape","shapeData","rotatePage","rotation","deletePages","pageIndices","splitPDF","startPage","endPage","mergePDFs","files","forEach","addWatermark","watermarkData","passwordProtect","password","compressPDF","downloadPDF","fileName","response","responseType","params","name","url","window","URL","createObjectURL","Blob","data","link","document","createElement","href","setAttribute","body","appendChild","click","remove","revokeObjectURL","getPDFPreview"],"sources":["/workspace/client/src/services/api.js"],"sourcesContent":["import axios from 'axios';\n\nconst API_BASE_URL = process.env.REACT_APP_API_URL || 'http://localhost:5000/api';\n\nclass API {\n  static async uploadPDF(file) {\n    const formData = new FormData();\n    formData.append('pdf', file);\n    \n    return axios.post(`${API_BASE_URL}/upload`, formData, {\n      headers: {\n        'Content-Type': 'multipart/form-data',\n      },\n    });\n  }\n\n  static async getPDFInfo(fileId) {\n    return axios.get(`${API_BASE_URL}/pdf/${fileId}/info`);\n  }\n\n  static async addText(fileId, textData) {\n    return axios.post(`${API_BASE_URL}/pdf/${fileId}/add-text`, textData);\n  }\n\n  static async addImage(fileId, imageFile, position) {\n    const formData = new FormData();\n    formData.append('image', imageFile);\n    formData.append('x', position.x);\n    formData.append('y', position.y);\n    formData.append('pageIndex', position.pageIndex);\n    formData.append('width', position.width || 100);\n    formData.append('height', position.height || 100);\n    \n    return axios.post(`${API_BASE_URL}/pdf/${fileId}/add-image`, formData, {\n      headers: {\n        'Content-Type': 'multipart/form-data',\n      },\n    });\n  }\n\n  static async addShape(fileId, shapeData) {\n    return axios.post(`${API_BASE_URL}/pdf/${fileId}/add-shape`, shapeData);\n  }\n\n  static async rotatePage(fileId, pageIndex, rotation) {\n    return axios.post(`${API_BASE_URL}/pdf/${fileId}/rotate`, {\n      pageIndex,\n      rotation\n    });\n  }\n\n  static async deletePages(fileId, pageIndices) {\n    return axios.post(`${API_BASE_URL}/pdf/${fileId}/delete-pages`, {\n      pageIndices\n    });\n  }\n\n  static async splitPDF(fileId, startPage, endPage) {\n    return axios.post(`${API_BASE_URL}/pdf/${fileId}/split`, {\n      startPage,\n      endPage\n    });\n  }\n\n  static async mergePDFs(files) {\n    const formData = new FormData();\n    files.forEach(file => {\n      formData.append('pdfs', file);\n    });\n    \n    return axios.post(`${API_BASE_URL}/pdf/merge`, formData, {\n      headers: {\n        'Content-Type': 'multipart/form-data',\n      },\n    });\n  }\n\n  static async addWatermark(fileId, watermarkData) {\n    return axios.post(`${API_BASE_URL}/pdf/${fileId}/watermark`, watermarkData);\n  }\n\n  static async passwordProtect(fileId, password) {\n    return axios.post(`${API_BASE_URL}/pdf/${fileId}/password`, { password });\n  }\n\n  static async compressPDF(fileId) {\n    return axios.post(`${API_BASE_URL}/pdf/${fileId}/compress`);\n  }\n\n  static async downloadPDF(fileId, fileName) {\n    const response = await axios.get(`${API_BASE_URL}/pdf/${fileId}/download`, {\n      responseType: 'blob',\n      params: { name: fileName }\n    });\n    \n    // Create download link\n    const url = window.URL.createObjectURL(new Blob([response.data]));\n    const link = document.createElement('a');\n    link.href = url;\n    link.setAttribute('download', fileName);\n    document.body.appendChild(link);\n    link.click();\n    link.remove();\n    window.URL.revokeObjectURL(url);\n  }\n\n  static async getPDFPreview(fileId) {\n    return axios.get(`${API_BASE_URL}/pdf/${fileId}/preview`);\n  }\n}\n\nexport default API;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}